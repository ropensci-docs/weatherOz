<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Find nearby weather stations given geographic coordinates or a station code
for both of the DPIRD and SILO weather station
networks.  Either a combination of latitude and longitude or
station_code must be provided.  A DPIRD API key
is only necessary to search for stations in the DPIRD network.
If you are not interested in DPIRD stations in Western Australia,
you may use this function to query only SILO stations for all of
Australia without using a key."><title>Find the Nearest Weather Stations to a Given Geographic Point or Known Station — find_nearby_stations • weatherOz</title><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Find the Nearest Weather Stations to a Given Geographic Point or Known Station — find_nearby_stations"><meta property="og:description" content="Find nearby weather stations given geographic coordinates or a station code
for both of the DPIRD and SILO weather station
networks.  Either a combination of latitude and longitude or
station_code must be provided.  A DPIRD API key
is only necessary to search for stations in the DPIRD network.
If you are not interested in DPIRD stations in Western Australia,
you may use this function to query only SILO stations for all of
Australia without using a key."><meta property="og:image" content="https://docs.ropensci.org/weatherOz/logo.png"><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css"><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript><!-- End Matomo Code --></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">weatherOz</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="nav-link" href="../articles/weatherOz.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/use_case.html">weatherOz Use Case</a>
    <a class="dropdown-item" href="../articles/weatherOz_for_BOM.html">weatherOz for BOM</a>
    <a class="dropdown-item" href="../articles/weatherOz_for_DPIRD.html">weatherOz for DPIRD</a>
    <a class="dropdown-item" href="../articles/weatherOz_for_SILO.html">weatherOz for SILO</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/weatherOz/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Find the Nearest Weather Stations to a Given Geographic Point or Known Station</h1>
      <small class="dont-index">Source: <a href="https://github.com/ropensci/weatherOz/blob/HEAD/R/find_nearby_stations.R" class="external-link"><code>R/find_nearby_stations.R</code></a></small>
      <div class="d-none name"><code>find_nearby_stations.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Find nearby weather stations given geographic coordinates or a station code
for both of the <acronym>DPIRD</acronym> and <acronym>SILO</acronym> weather station
networks.  Either a combination of <var>latitude</var> and <var>longitude</var> or
<var>station_code</var> must be provided.  A <acronym>DPIRD</acronym> <acronym>API</acronym> key
is only necessary to search for stations in the <acronym>DPIRD</acronym> network.
If you are not interested in <acronym>DPIRD</acronym> stations in Western Australia,
you may use this function to query only <acronym>SILO</acronym> stations for all of
Australia without using a key.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">find_nearby_stations</span><span class="op">(</span></span>
<span>  longitude <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  latitude <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  station_code <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  distance_km <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  api_key <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  which_api <span class="op">=</span> <span class="st">"silo"</span>,</span>
<span>  include_closed <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>longitude</dt>
<dd><p>A <code>numeric</code> value of longitude in decimal degree (DD)
format.  Optional and defaults to <code>NULL</code>.  Required if <code>station_code</code> is
not provided.</p></dd>


<dt>latitude</dt>
<dd><p>A <code>numeric</code> value of latitude in decimal degree (DD)
format.  Optional and defaults to <code>NULL</code>.  Required if <code>station_code</code> is
not provided.</p></dd>


<dt>station_code</dt>
<dd><p>A <code>string</code> with the station code for the station of
interest.  Optional and defaults to <code>NULL</code>.  Required if <code>longitude</code> and
<code>latitude</code> are not provided.</p></dd>


<dt>distance_km</dt>
<dd><p>A <code>numeric</code> value for distance to limit the search from
the station or location of interest.  Defaults to 100 km.</p></dd>


<dt>api_key</dt>
<dd><p>A <code>string</code> value that is the user's <acronym>API</acronym> key from
<acronym>DPIRD</acronym> (see <a href="https://www.agric.wa.gov.au/web-apis" class="external-link">https://www.agric.wa.gov.au/web-apis</a>).  Only used
when <var>which_api</var> is <code>DPIRD</code> or <code>all</code>.</p></dd>


<dt>which_api</dt>
<dd><p>A <code>string</code> value that indicates which <acronym>API</acronym> to use.
Defaults to <code>silo</code> only.  Valid values are <code>all</code>, for both <acronym>SILO</acronym>
(<acronym>BOM</acronym>) and <acronym>DPIRD</acronym> weather station networks; <code>silo</code> for
only stations in the <acronym>SILO</acronym> network; or <code>dpird</code> for stations in the
<acronym>DPIRD</acronym> network.</p></dd>


<dt>include_closed</dt>
<dd><p>A <code>Boolean</code> value that indicates whether closed
stations in the <acronym>DPIRD</acronym> network should be included in the results.
Defaults to <code>FALSE</code> with closed stations not included.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A data.table with <code>station_code</code>, <code>station_name</code>,
<code>latitude</code>, <code>longitude</code>, <code>elev_m</code>, <code>state</code>, <code>owner</code>, and <code>distance</code>.
Data are sorted by increasing distance from station or location of
interest.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>You can request your own <acronym>API</acronym> key from <acronym>DPIRD</acronym> for
free by filling out the form found at
<a href="https://www.agric.wa.gov.au/web-apis" class="external-link">https://www.agric.wa.gov.au/web-apis</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other DPIRD: 
<code><a href="dpird_extreme_weather_values.html">dpird_extreme_weather_values</a></code>,
<code><a href="dpird_minute_values.html">dpird_minute_values</a></code>,
<code><a href="dpird_summary_values.html">dpird_summary_values</a></code>,
<code><a href="get_dpird_apsim.html">get_dpird_apsim</a>()</code>,
<code><a href="get_dpird_availability.html">get_dpird_availability</a>()</code>,
<code><a href="get_dpird_extremes.html">get_dpird_extremes</a>()</code>,
<code><a href="get_dpird_minute.html">get_dpird_minute</a>()</code>,
<code><a href="get_dpird_summaries.html">get_dpird_summaries</a>()</code>,
<code><a href="get_stations_metadata.html">get_stations_metadata</a>()</code></p>
<p>Other SILO: 
<code><a href="get_data_drill.html">get_data_drill</a>()</code>,
<code><a href="get_data_drill_apsim.html">get_data_drill_apsim</a>()</code>,
<code><a href="get_patched_point.html">get_patched_point</a>()</code>,
<code><a href="get_patched_point_apsim.html">get_patched_point_apsim</a>()</code>,
<code><a href="get_stations_metadata.html">get_stations_metadata</a>()</code>,
<code><a href="silo_daily_values.html">silo_daily_values</a></code></p>
<p>Other metadata: 
<code><a href="find_forecast_towns.html">find_forecast_towns</a>()</code>,
<code><a href="get_available_imagery.html">get_available_imagery</a>()</code>,
<code><a href="get_available_radar.html">get_available_radar</a>()</code>,
<code><a href="get_dpird_availability.html">get_dpird_availability</a>()</code>,
<code><a href="get_stations_metadata.html">get_stations_metadata</a>()</code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Rodrigo Pires, <a href="mailto:rodrigo.pires@dpird.wa.gov.au">rodrigo.pires@dpird.wa.gov.au</a>, and Adam H.
Sparks, <a href="mailto:adamhsparks@gmail.com">adamhsparks@gmail.com</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Note that queries to the DPIRD API require you to have your own API key.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Query WA only stations and return DPIRD's stations nearest to the</span></span></span>
<span class="r-in"><span><span class="co"># Northam, WA station, "NO", returning stations with 50 km of this station</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">wa_stn</span> <span class="op">&lt;-</span> <span class="fu">find_nearby_stations</span><span class="op">(</span></span></span>
<span class="r-in"><span>  station_code <span class="op">=</span> <span class="st">"NO"</span>,</span></span>
<span class="r-in"><span>  distance_km <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>  api_key <span class="op">=</span> <span class="st">"your_api_key"</span>,</span></span>
<span class="r-in"><span>  which_api <span class="op">=</span> <span class="st">"dpird"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Query stations nearest DPIRD's Northam, WA station, "NO" and return both</span></span></span>
<span class="r-in"><span><span class="co"># DPIRD and SILO/BOM stations within 50 km of this station.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">wa_stn</span> <span class="op">&lt;-</span> <span class="fu">find_nearby_stations</span><span class="op">(</span></span></span>
<span class="r-in"><span>  station_code <span class="op">=</span> <span class="st">"NO"</span>,</span></span>
<span class="r-in"><span>  distance_km <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>  api_key <span class="op">=</span> <span class="st">"your_api_key"</span>,</span></span>
<span class="r-in"><span>  which_api <span class="op">=</span> <span class="st">"all"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Query Wagga Wagga BOM station finding stations within 200 km of it, note</span></span></span>
<span class="r-in"><span><span class="co"># that it is not necessary to provide an `api_key` for SILO queries of</span></span></span>
<span class="r-in"><span><span class="co"># nearby stations.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">wagga_stn</span> <span class="op">&lt;-</span> <span class="fu">find_nearby_stations</span><span class="op">(</span></span></span>
<span class="r-in"><span>  latitude <span class="op">=</span> <span class="op">-</span><span class="fl">35.1583</span>,</span></span>
<span class="r-in"><span>  longitude <span class="op">=</span> <span class="fl">147.4575</span>,</span></span>
<span class="r-in"><span>  distance_km <span class="op">=</span> <span class="fl">200</span>,</span></span>
<span class="r-in"><span>  which_api <span class="op">=</span> <span class="st">"silo"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg"></div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul></div>
                    <div class="col-md-3 col-sm-4">
                        <ul><h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul></div>
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul></div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer></div>

  

  

  </body></html>

