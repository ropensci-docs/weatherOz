<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Download the latest station locations and metadata for stations in the
SILO and DPIRD networks.  For BOM stations
that exist in SILO, but lack metadata from BOM, the
rows will exist to indicate that the station is in the SILO data
set, but there is no corresponding BOM metadata available."><title>Get Weather Station Metadata for Both DPIRD and SILO Weather Stations — get_stations_metadata • weatherOz</title><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get Weather Station Metadata for Both DPIRD and SILO Weather Stations — get_stations_metadata"><meta property="og:description" content="Download the latest station locations and metadata for stations in the
SILO and DPIRD networks.  For BOM stations
that exist in SILO, but lack metadata from BOM, the
rows will exist to indicate that the station is in the SILO data
set, but there is no corresponding BOM metadata available."><meta property="og:image" content="https://docs.ropensci.org/weatherOz/logo.png"><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css"><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript><!-- End Matomo Code --></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">weatherOz</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="nav-link" href="../articles/weatherOz.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/use_case.html">weatherOz Use Case</a>
    <a class="dropdown-item" href="../articles/weatherOz_for_BOM.html">weatherOz for BOM</a>
    <a class="dropdown-item" href="../articles/weatherOz_for_DPIRD.html">weatherOz for DPIRD</a>
    <a class="dropdown-item" href="../articles/weatherOz_for_SILO.html">weatherOz for SILO</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/weatherOz/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Get Weather Station Metadata for Both DPIRD and SILO Weather Stations</h1>
      <small class="dont-index">Source: <a href="https://github.com/ropensci/weatherOz/blob/HEAD/R/get_stations_metadata.R" class="external-link"><code>R/get_stations_metadata.R</code></a></small>
      <div class="d-none name"><code>get_stations_metadata.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Download the latest station locations and metadata for stations in the
<acronym>SILO</acronym> and <acronym>DPIRD</acronym> networks.  For <acronym>BOM</acronym> stations
that exist in <acronym>SILO</acronym>, but lack metadata from <acronym>BOM</acronym>, the
rows will exist to indicate that the station is in the <acronym>SILO</acronym> data
set, but there is no corresponding <acronym>BOM</acronym> metadata available.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_stations_metadata</span><span class="op">(</span></span>
<span>  station_code <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  station_name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  which_api <span class="op">=</span> <span class="st">"all"</span>,</span>
<span>  <span class="va">api_key</span>,</span>
<span>  include_closed <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  rich <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>station_code</dt>
<dd><p>An optional value that should be provided as a single
<code>string</code> value or character <code>vector</code> of station codes for which to return
metadata.  If this or <code>station_name</code> are not provided, all station metadata
is returned by default.  If this and <code>station_name</code> are both provided, this
takes precedence and values corresponding to this input will be returned.</p></dd>


<dt>station_name</dt>
<dd><p>An optional value that should be provided as either a
single <code>string</code> or character <code>vector</code> of station names for which to return
metadata.  Fuzzy matching is used, <em>e.g.</em>, using
<code>c("brisbane", "melbourne")</code> will return rows for “Brisbane”,
“Brisbane Aero”, “Mt Brisbane”,
“City of Melbourne Bay”, “Selbourne Kirnbrae”,
“Maroondah Weir Melbourne Water”, “Melbourne Airport” and
“Melbourne Botanical Gardens” <code>station_name</code> values.  If this or
<code>station_code</code> are not provided, all station metadata is returned by
default.  Using <code>station_code</code> will always override this argument if both
are provided.</p></dd>


<dt>which_api</dt>
<dd><p>A <code>string</code> value that indicates which <acronym>API</acronym> to use.
Valid values are <code>all</code>, for both <acronym>SILO</acronym> (<acronym>BOM</acronym> data) and
<acronym>DPIRD</acronym> <acronym>API</acronym>s; <code>silo</code> for only stations from the
<acronym>SILO</acronym> <acronym>API</acronym> (<acronym>BOM</acronym> data); or <code>dpird</code> for stations
from the <acronym>DPIRD</acronym> Weather 2.0 <acronym>API</acronym>.  Defaults to <code>all</code>.</p></dd>


<dt>api_key</dt>
<dd><p>A <code>character</code> string containing your <acronym>API</acronym> key from
<acronym>DPIRD</acronym>, <a href="https://www.agric.wa.gov.au/web-apis" class="external-link">https://www.agric.wa.gov.au/web-apis</a>, for the
<acronym>DPIRD</acronym> Weather 2.0 <acronym>API</acronym>.</p></dd>


<dt>include_closed</dt>
<dd><p>A <code>Boolean</code> string indicating whether to include closed
stations' metadata.  Use <code>TRUE</code> to include these.  Defaults to <code>FALSE</code>.</p></dd>


<dt>rich</dt>
<dd><p>A <code>Boolean</code> string indicating whether to return rich information
about <acronym>DPIRD</acronym>'s weather station(s), this does not affect the
<acronym>SILO</acronym> stations' metadata, the variables for these observations
will be <code>NA</code>.  Defaults to <code>FALSE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A data.table of <acronym>BOM</acronym> weather stations'
metadata for stations available from <acronym>SILO</acronym> and weather stations'
metadata for stations available from <acronym>DPIRD</acronym>'s Weather 2.0
<acronym>API</acronym> with the following columns sorted by <code>state</code> and
<code>station_name</code>.</p><table class="table table"><tr><td><strong>station_code</strong>:</td><td>Unique station code. <code>factor</code></td></tr><tr><td><strong>station_name</strong>:</td><td>Unique station name. <code>character</code></td></tr><tr><td><strong>start</strong>:</td><td>Date observations start. <code>date</code></td></tr><tr><td><strong>end</strong>:</td><td>Date observations end. <code>date</code></td></tr><tr><td><strong>latitude</strong>:</td><td>Latitude in decimal degrees. <code>numeric</code></td></tr><tr><td><strong>longitude</strong>:</td><td>Longitude in decimal degrees. <code>numeric</code></td></tr><tr><td><strong>state</strong>:</td><td>State in which the station is located. <code>character</code></td></tr><tr><td><strong>elev_m</strong>:</td><td>Station elevation in metres. <code>numeric</code></td></tr><tr><td><strong>source</strong>:</td><td>Organisation responsible for the data or station
maintenance. <code>character</code></td></tr><tr><td><strong>include_closed</strong>:</td><td>Station include_closed, one of 'open' or 'closed'. <code>character</code></td></tr><tr><td><strong>wmo</strong>:</td><td>World Meteorological Organisation, (<acronym>WMO</acronym>), number
if applicable. <code>numeric</code></td></tr><tr><td><strong><code>rich</code> values</strong></td><td></td></tr><tr><td><strong>capabilities</strong>:</td><td>a list of the station's capabilities (data that it
records). <code>character</code></td></tr><tr><td><strong>probe_height</strong>:</td><td>temperature probe height in metres. <code>double</code></td></tr><tr><td><strong>rain_gauge_height</strong></td><td>rain gauge height in metres. <code>double</code></td></tr><tr><td><strong>wind_probe_heights</strong>:</td><td>wind probe heights always 3 metres, although
some have 10 metre probes. <code>integer</code></td></tr></table></div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>For stations in the <acronym>SILO</acronym> <acronym>API</acronym>, <acronym>BOM</acronym> does
not report the exact date on which stations opened or closed, only the
year.  Therefore the <code>start</code> and <code>end</code> columns will indicate January 1 of
the year that a station opened or closed, whereas stations in the
<acronym>DPIRD</acronym> network have the date to the day.  For <acronym>BOM</acronym>
stations that are closed for the current year, this indicates that the
station closed sometime during the current year prior to the request being
made. <code>NA</code> in the current year indicates a station is still open.</p>
<p>There are discrepancies between the <acronym>BOM</acronym>'s official station
metadata, <em>e.g.</em> longitude and latitude values and <acronym>SILO</acronym> metadata.
In these cases, the <acronym>BOM</acronym> metadata is used as it is considered to
be the authority on the stations' locations.</p>
<p>The station names are returned by both <acronym>API</acronym>s in full caps.
For purposes of cleaner graphs and maps where these data may be sued, this
function converts them to proper name formats/title case with the first
letter of every word capitalised excepting words like “at” or
“on” and keeps acronyms like “AWS” or “PIRSA” or state
abbreviations in the station names as all caps.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Station location and other metadata are sourced from the Australian Bureau of
Meteorology (<acronym>BOM</acronym>) webpage, Bureau of Meteorology Site Numbers:<br><a href="http://www.bom.gov.au/climate/cdo/about/site-num.shtml" class="external-link">http://www.bom.gov.au/climate/cdo/about/site-num.shtml</a> and
<a href="http://www.bom.gov.au/climate/data/lists_by_element/stations.txt" class="external-link">http://www.bom.gov.au/climate/data/lists_by_element/stations.txt</a> and the
<acronym>DPIRD</acronym> Weather 2.0 <acronym>API</acronym>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other DPIRD: 
<code><a href="dpird_extreme_weather_values.html">dpird_extreme_weather_values</a></code>,
<code><a href="dpird_minute_values.html">dpird_minute_values</a></code>,
<code><a href="dpird_summary_values.html">dpird_summary_values</a></code>,
<code><a href="find_nearby_stations.html">find_nearby_stations</a>()</code>,
<code><a href="get_dpird_apsim.html">get_dpird_apsim</a>()</code>,
<code><a href="get_dpird_availability.html">get_dpird_availability</a>()</code>,
<code><a href="get_dpird_extremes.html">get_dpird_extremes</a>()</code>,
<code><a href="get_dpird_minute.html">get_dpird_minute</a>()</code>,
<code><a href="get_dpird_summaries.html">get_dpird_summaries</a>()</code></p>
<p>Other SILO: 
<code><a href="find_nearby_stations.html">find_nearby_stations</a>()</code>,
<code><a href="get_data_drill.html">get_data_drill</a>()</code>,
<code><a href="get_data_drill_apsim.html">get_data_drill_apsim</a>()</code>,
<code><a href="get_patched_point.html">get_patched_point</a>()</code>,
<code><a href="get_patched_point_apsim.html">get_patched_point_apsim</a>()</code>,
<code><a href="silo_daily_values.html">silo_daily_values</a></code></p>
<p>Other metadata: 
<code><a href="find_forecast_towns.html">find_forecast_towns</a>()</code>,
<code><a href="find_nearby_stations.html">find_nearby_stations</a>()</code>,
<code><a href="get_available_imagery.html">get_available_imagery</a>()</code>,
<code><a href="get_available_radar.html">get_available_radar</a>()</code>,
<code><a href="get_dpird_availability.html">get_dpird_availability</a>()</code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Adam H. Sparks, <a href="mailto:adamhsparks@gmail.com">adamhsparks@gmail.com</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># fetch metadata for all stations available in {weatherOz}</span></span></span>
<span class="r-in"><span><span class="fu">get_stations_metadata</span><span class="op">(</span>api_key <span class="op">=</span> <span class="st">"your_api_key"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg"></div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul></div>
                    <div class="col-md-3 col-sm-4">
                        <ul><h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul></div>
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul></div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer></div>

  

  

  </body></html>

